define(["./core","./var/document","./var/documentElement","./var/hasOwn","./var/indexOf"],function(e,t,n,r,i){"use strict";function f(n,r){if(n===r)return o=!0,0;var a=!n.compareDocumentPosition-!r.compareDocumentPosition;return a?a:(a=(n.ownerDocument||n)===(r.ownerDocument||r)?n.compareDocumentPosition(r):1,1&a?n===t||n.ownerDocument===t&&e.contains(t,n)?-1:r===t||r.ownerDocument===t&&e.contains(t,r)?1:s?i.call(s,n)-i.call(s,r):0:4&a?-1:1)}function p(e){var t,n=[],r=0,i=0;if(o=!1,s=!a&&e.slice(0),e.sort(f),o){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return s=null,e}function h(e){return(e+"").replace(l,c)}var o,s,a=e.expando.split("").sort(f).join("")===e.expando,u=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector,l=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,c=function(e,t){return t?"\x00"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};e.extend({uniqueSort:p,unique:p,escapeSelector:h,find:function(n,r,i,o){var s,a,u=0;if(i=i||[],r=r||t,!n||"string"!=typeof n)return i;if(1!==(a=r.nodeType)&&9!==a)return[];if(o)for(;s=o[u++];)e.find.matchesSelector(s,n)&&i.push(s);else e.merge(i,r.querySelectorAll(n));return i},text:function(t){var n,r="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o)return t.textContent;if(3===o||4===o)return t.nodeValue}else for(;n=t[i++];)r+=e.text(n);return r},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),e.extend(e.find,{matches:function(t,n){return e.find(t,null,null,n)},matchesSelector:function(e,t){return u.call(e,t)},attr:function(t,n){var i=e.expr.attrHandle[n.toLowerCase()],o=i&&r.call(e.expr.attrHandle,n.toLowerCase())?i(t,n,e.isXMLDoc(t)):void 0;return void 0!==o?o:t.getAttribute(n)}})});
