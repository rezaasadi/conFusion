define(["../core","../var/document","../data/var/dataPriv","../data/var/acceptData","../var/hasOwn","../event"],function(e,t,n,r,i){"use strict";var o=/^(?:focusinfocus|focusoutblur)$/;return e.extend(e.event,{trigger:function(s,a,u,l){var c,f,p,h,d,m,v,g=[u||t],$=i.call(s,"type")?s.type:s,y=i.call(s,"namespace")?s.namespace.split("."):[];if(f=p=u=u||t,3!==u.nodeType&&8!==u.nodeType&&!o.test($+e.event.triggered)&&($.indexOf(".")>-1&&(y=$.split("."),$=y.shift(),y.sort()),d=$.indexOf(":")<0&&"on"+$,s=s[e.expando]?s:new e.Event($,"object"==typeof s&&s),s.isTrigger=l?2:3,s.namespace=y.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=u),a=null==a?[s]:e.makeArray(a,[s]),v=e.event.special[$]||{},l||!v.trigger||v.trigger.apply(u,a)!==!1)){if(!l&&!v.noBubble&&!e.isWindow(u)){for(h=v.delegateType||$,o.test(h+$)||(f=f.parentNode);f;f=f.parentNode)g.push(f),p=f;p===(u.ownerDocument||t)&&g.push(p.defaultView||p.parentWindow||window)}for(c=0;(f=g[c++])&&!s.isPropagationStopped();)s.type=c>1?h:v.bindType||$,m=(n.get(f,"events")||{})[s.type]&&n.get(f,"handle"),m&&m.apply(f,a),m=d&&f[d],m&&m.apply&&r(f)&&(s.result=m.apply(f,a),s.result===!1&&s.preventDefault());return s.type=$,l||s.isDefaultPrevented()||v._default&&v._default.apply(g.pop(),a)!==!1||!r(u)||d&&e.isFunction(u[$])&&!e.isWindow(u)&&(p=u[d],p&&(u[d]=null),e.event.triggered=$,u[$](),e.event.triggered=void 0,p&&(u[d]=p)),s.result}},simulate:function(t,n,r){var i=e.extend(new e.Event,r,{type:t,isSimulated:!0});e.event.trigger(i,null,n)}}),e.fn.extend({trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(t,n){var r=this[0];return r?e.event.trigger(t,n,r,!0):void 0}}),e});
