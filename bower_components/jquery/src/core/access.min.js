define(["../core"],function(e){"use strict";var t=function(n,r,i,o,s,a,u){var l=0,c=n.length,f=null==i;if("object"===e.type(i)){s=!0;for(l in i)t(n,r,l,i[l],!0,a,u)}else if(void 0!==o&&(s=!0,e.isFunction(o)||(u=!0),f&&(u?(r.call(n,o),r=null):(f=r,r=function(t,n,r){return f.call(e(t),r)})),r))for(;c>l;l++)r(n[l],i,u?o:o.call(n[l],l,r(n[l],i)));return s?n:f?r.call(n):c?r(n[0],i):a};return t});
